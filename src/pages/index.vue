<script setup lang="ts">
import { useTodoListsQuery } from '@/graphql/schema'

const { data, fetching, error } = useTodoListsQuery()
</script>

<template>
  <div>
    <div v-if="fetching">Loading...</div>
    <div v-else-if="error">{{ error }}</div>
    <div v-else-if="data" class="flex gap-6">
      <div v-for="list in data.todoListCollection?.edges?.slice().reverse()" :key="list?.node?.id">
        <TodoList v-if="list?.node" :list="list.node" />
      </div>
      <TodoListCreate />
    </div>
  </div>
</template>
